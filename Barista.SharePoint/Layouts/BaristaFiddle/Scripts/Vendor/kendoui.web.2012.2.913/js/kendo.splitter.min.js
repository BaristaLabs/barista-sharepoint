/*
* Kendo UI Web v2012.2.913 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Web commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-web-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the
* GNU General Public License (GPL) version 3.
* For GPL requirements, please review: http://www.gnu.org/copyleft/gpl.html
*/
;(function(a,b){function E(a){var b=this,d=a.orientation;b.owner=a,b._element=a.element,b.orientation=d,e(b,d===p?D:C),b._resizable=new c.ui.Resizable(a.element,{orientation:d,handle:a.element.children(".k-splitbar-draggable-"+d),hint:f(b._createHint,b),start:f(b._start,b),max:f(b._max,b),min:f(b._min,b),invalidClass:"k-restricted-size-"+d,resizeend:f(b._stop,b)})}function A(b,c){return function(d,e){var f=a(d).data(t);if(arguments.length==1)return f[b];f[b]=e;if(c){var g=this.element.data("kendoSplitter");g.trigger(n)}}}function z(a){return!x(a)&&!y(a)}function y(a){return h.test(a)}function x(a){return i.test(a)}var c=window.kendo,d=c.ui,e=a.extend,f=a.proxy,g=d.Widget,h=/^\d+(\.\d+)?px$/i,i=/^\d+(\.\d+)?%$/i,j=".kendoSplitter",k="expand",l="collapse",m="contentLoad",n="resize",o="layoutChange",p="horizontal",q="vertical",r="mouseenter",s="click",t="pane",u="mouseleave",v="k-"+t,w="."+v,B=g.extend({init:function(b,c){var d=this;g.fn.init.call(d,b,c),d.wrapper=d.element,d.orientation=d.options.orientation.toLowerCase()!=q?p:q,d.bind(n,f(d._resize,d)),d._initPanes(),d._resizeHandler=function(){d.trigger(n)},d._attachEvents(),a(window).on("resize",d._resizeHandler),d.resizing=new E(d),d.element.triggerHandler("init.kendoSplitter")},events:[k,l,m,n,o],_attachEvents:function(){var b=this,c=b.options.orientation,d=".k-splitbar-draggable-"+c,e=".k-splitbar .k-icon:not(.k-resize-handle)";b.element.on(r+j,d,function(){a(this).addClass("k-splitbar-"+b.orientation+"-hover")}).on(u+j,d,function(){a(this).removeClass("k-splitbar-"+b.orientation+"-hover")}).on("mousedown"+j,d,function(){b._panes().append("<div class='k-splitter-overlay k-overlay' />")}).on("mouseup"+j,d,function(){b._panes().children(".k-splitter-overlay").remove()}).on(r+j,e,function(){a(this).addClass("k-state-hover")}).on(u+j,e,function(){a(this).removeClass("k-state-hover")}).on(s+j,".k-splitbar .k-collapse-next, .k-splitbar .k-collapse-prev",b._arrowClick(l)).on(s+j,".k-splitbar .k-expand-next, .k-splitbar .k-expand-prev",b._arrowClick(k)).on("dblclick"+j,".k-splitbar",f(b._dbclick,b)).parent().closest(".k-splitter").each(function(){var c=a(this),d=c.data("kendoSplitter");d?d.bind(n,b._resizeHandler):c.one("init"+j,function(){a(this).data("kendoSplitter").bind(n,b._resizeHandler),b._resizeHandler()})})},options:{name:"Splitter",orientation:p},destroy:function(){var b=this;g.fn.destroy.call(b),b.element.off(j),b.resizing.destroy(),a(window).off("resize",b._resizeHandler),c.destroy(b.element)},_initPanes:function(){var b=this,c=b.options.panes||[];b.element.addClass("k-widget").addClass("k-splitter").children().addClass(v).each(function(d,e){var f=c&&c[d];e=a(e),e.data(t,f?f:{}).toggleClass("k-scrollable",f?f.scrollable!==!1:!0),b.ajaxRequest(e)}).end(),b.trigger(n)},ajaxRequest:function(b,d,e){b=a(b);var f=this,g=b.data(t);d=d||g.contentUrl,d&&(b.append("<span class='k-icon k-loading k-pane-loading' />"),c.isLocalUrl(d)?a.ajax({url:d,data:e||{},type:"GET",dataType:"html",success:function(a){b.html(a),f.trigger(m,{pane:b[0]})}}):b.removeClass("k-scrollable").html("<iframe src='"+d+"' frameborder='0' class='k-content-frame'>"+"This page requires frames in order to show content"+"</iframe>"))},_triggerAction:function(a,b){this.trigger(a,{pane:b[0]})||this[a](b[0])},_dbclick:function(b){var c=this,d=a(b.target),e;if(d.closest(".k-splitter")[0]==c.element[0]){e=d.children(".k-icon:not(.k-resize-handle)");if(e.length!==1)return;e.is(".k-collapse-prev")?c._triggerAction(l,d.prev()):e.is(".k-collapse-next")?c._triggerAction(l,d.next()):e.is(".k-expand-prev")?c._triggerAction(k,d.prev()):e.is(".k-expand-next")&&c._triggerAction(k,d.next())}},_arrowClick:function(b){var c=this;return function(d){var e=a(d.target),f;e.closest(".k-splitter")[0]==c.element[0]&&(e.is(".k-"+b+"-prev")?f=e.parent().prev():f=e.parent().next(),c._triggerAction(b,f))}},_updateSplitBar:function(a,b,c){var d=function(a,b){return b?"<div class='k-icon "+a+"' />":""},e=this.orientation,f=b.resizable!==!1&&c.resizable!==!1,g=b.collapsible,h=b.collapsed,i=c.collapsible,j=c.collapsed;a.addClass("k-splitbar k-state-default k-splitbar-"+e).removeClass("k-splitbar-"+e+"-hover").toggleClass("k-splitbar-draggable-"+e,f&&!h&&!j).toggleClass("k-splitbar-static-"+e,!f&&!g&&!i).html(d("k-collapse-prev",g&&!h&&!j)+d("k-expand-prev",g&&h&&!j)+d("k-resize-handle",f)+d("k-collapse-next",i&&!j&&!h)+d("k-expand-next",i&&j&&!h))},_updateSplitBars:function(){var b=this;this.element.children(".k-splitbar").each(function(){var c=a(this),d=c.prev(w).data(t),e=c.next(w).data(t);!e||b._updateSplitBar(c,d,e)})},_panes:function(){return this.element.children(w)},_resize:function(){var b=this,c=b.element,d=c.children(":not(.k-splitbar)"),e=b.orientation==p,f=c.children(".k-splitbar"),g=f.length,h=e?"width":"height",i=c[h]();g===0?(g=d.length-1,d.slice(0,g).after("<div class='k-splitbar' />"),b._updateSplitBars(),f=c.children(".k-splitbar")):b._updateSplitBars(),f.each(function(){i-=this[e?"offsetWidth":"offsetHeight"]});var j=0,k=0,l=a();d.css({position:"absolute",top:0})[h](function(){var b=a(this).data(t)||{},c;if(b.collapsed)c=0,a(this).css("overflow","hidden");else{if(z(b.size)){l=l.add(this);return}c=parseInt(b.size,10),x(b.size)&&(c=Math.floor(c*i/100))}k++,j+=c;return c}),i-=j;var m=l.length,n=Math.floor(i/m);l.slice(0,m-1).css(h,n).end().eq(m-1).css(h,i-(m-1)*n);var q=0,r=e?"height":"width",s=e?"left":"top",u=e?"offsetWidth":"offsetHeight";if(m===0){var v=d.filter(function(){return!(a(this).data(t)||{}).collapsed}).last();v[h](i+v[0][u])}c.children().css(r,c[r]()).each(function(a,b){b.style[s]=Math.floor(q)+"px",q+=b[u]}),b.trigger(o)},toggle:function(c,d){var e;c=a(c),e=c.data(t),arguments.length==1&&(d=e.collapsed===b?!1:e.collapsed),e.collapsed=!d,e.collapsed?c.css("overflow","hidden"):c.css("overflow",""),this.trigger(n)},collapse:function(a){this.toggle(a,!1)},expand:function(a){this.toggle(a,!0)},size:A("size",!0),min:A("min"),max:A("max")});d.plugin(B);var C={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"},D={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"};E.prototype={destroy:function(){this._resizable.destroy()},_createHint:function(b){var c=this;return a("<div class='k-ghost-splitbar k-ghost-splitbar-"+c.orientation+" k-state-default' />").css(c.alternateSizingProperty,b[c.alternateSizingProperty]())},_start:function(b){var c=this,d=a(b.currentTarget),e=d.prev(),f=d.next(),g=e.data(t),h=f.data(t),i=parseInt(e[0].style[c.positioningProperty],10),j=parseInt(f[0].style[c.positioningProperty],10)+f[0][c.sizingDomProperty]-d[0][c.sizingDomProperty],k=c._element.css(c.sizingProperty),l=function(a){var b=parseInt(a,10);return(y(a)?b:k*b/100)||0},m=l(g.min),n=l(g.max)||j-i,o=l(h.min),p=l(h.max)||j-i;c.previousPane=e,c.nextPane=f,c._maxPosition=Math.min(j-o,i+n),c._minPosition=Math.max(i+m,j-p)},_max:function(a){return this._maxPosition},_min:function(a){return this._minPosition},_stop:function(b){var d=this,e=a(b.currentTarget),f=d.owner;f._panes().children(".k-splitter-overlay").remove();if(b.keyCode!==c.keys.ESC){var g=b.position,h=e.prev(),i=e.next(),j=h.data(t),k=i.data(t),l=g-parseInt(h[0].style[d.positioningProperty],10),m=parseInt(i[0].style[d.positioningProperty],10)+i[0][d.sizingDomProperty]-g-e[0][d.sizingDomProperty],o=d._element.children(w).filter(function(){return z(a(this).data(t).size)}).length;if(!z(j.size)||o>1)z(j.size)&&o--,j.size=l+"px";if(!z(k.size)||o>1)k.size=m+"px";f.trigger(n)}return!1}}})(jQuery);