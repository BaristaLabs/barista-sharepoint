/*
* Kendo UI Web v2012.2.913 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Web commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-web-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the
* GNU General Public License (GPL) version 3.
* For GPL requirements, please review: http://www.gnu.org/copyleft/gpl.html
*/
;(function(a,b){function w(a,b,c){s(a,h,c,b>=c)}function v(a,b,c){s(a,j,Math.min(c,b+1),b>=c)}function u(a,b,c){s(a,i,Math.max(1,b-1),b<=1)}function t(a,b,c){s(a,g,1,b<=1)}function s(a,b,d,e){a.find(b).parent().attr(c.attr("page"),d).toggleClass("k-state-disabled",e)}function r(a,b){return p({className:a.substring(1),text:b})}function q(a,b,d,e){return a({idx:b,text:d,ns:c.ns,numeric:e})}var c=window.kendo,d=c.ui,e=d.Widget,f=a.proxy,g=".k-i-seek-w",h=".k-i-seek-e",i=".k-i-arrow-w",j=".k-i-arrow-e",k="change",l=".kendoPager",m="click",n="keydown",o="disabled",p=c.template('<a href="\\#" title="#=text#" class="k-link"><span class="k-icon #= className #">#=text#</span></a>'),x=e.extend({init:function(b,d){var o=this,p,q;e.fn.init.call(o,b,d),d=o.options,o.dataSource=c.data.DataSource.create(d.dataSource),o.linkTemplate=c.template(o.options.linkTemplate),o.selectTemplate=c.template(o.options.selectTemplate),p=o.page(),q=o.totalPages(),o._refreshHandler=f(o.refresh,o),o.dataSource.bind(k,o._refreshHandler),d.previousNext&&(o.element.find(g).length||(o.element.append(r(g,d.messages.first)),t(o.element,p,q)),o.element.find(i).length||(o.element.append(r(i,d.messages.previous)),u(o.element,p,q))),d.numeric&&(o.list=o.element.find(".k-pager-numbers"),o.list.length||(o.list=a('<ul class="k-pager-numbers k-reset" />').appendTo(o.element))),d.input&&(o.element.find(".k-pager-input").length||o.element.append('<span class="k-pager-input k-label">'+d.messages.page+'<input class="k-textbox">'+c.format(d.messages.of,q)+"</span>"),o.element.on(n+l,".k-pager-input input",f(o._keydown,o))),d.previousNext&&(o.element.find(j).length||(o.element.append(r(j,d.messages.next)),v(o.element,p,q)),o.element.find(h).length||(o.element.append(r(h,d.messages.last)),w(o.element,p,q))),d.pageSizes&&(o.element.find(".k-pager-sizes").length||a('<span class="k-pager-sizes k-label"><select/>'+d.messages.itemsPerPage+"</span>").appendTo(o.element).find("select").html(a.map(a.isArray(d.pageSizes)?d.pageSizes:[5,10,20],function(a){return"<option>"+a+"</option>"}).join("")).end().appendTo(o.element),o.element.find(".k-pager-sizes select").val(o.pageSize()),c.ui.DropDownList&&o.element.find(".k-pager-sizes select").show().kendoDropDownList(),o.element.on(k+l,".k-pager-sizes select",f(o._change,o))),d.refresh&&(o.element.find(".k-pager-refresh").length||o.element.append('<a href="#" class="k-pager-refresh k-link"  title="'+d.messages.refresh+'"><span class="k-icon k-i-refresh">'+d.messages.refresh+"</span></a>"),o.element.on(m+l,".k-pager-refresh",f(o._refreshClick,o))),d.info&&(o.element.find(".k-pager-info").length||o.element.append('<span class="k-pager-info k-label" />')),o.element.on(m+l,"a",f(o._click,o)).addClass("k-pager-wrap k-widget"),d.autoBind&&o.refresh(),c.notify(o)},destroy:function(){var a=this;e.fn.destroy.call(a),a.element.off(l),a.dataSource.unbind(k,a._refreshHandler)},events:[k],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',linkTemplate:'<li><a href="\\#" class="k-link" data-#=ns#page="#=idx#">#=text#</a></li>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh"}},setDataSource:function(a){var b=this;b.dataSource.unbind(k,b._refreshHandler),b.dataSource=b.options.dataSource=a,a.bind(k,b._refreshHandler),b.options.autoBind&&a.fetch()},refresh:function(){var a=this,b,d,e=1,f="",g,h=a.page(),i=a.options,j=a.pageSize(),k=a.dataSource.total(),l=a.totalPages(),m=a.linkTemplate,n=i.buttonCount;if(i.numeric){h>n&&(g=h%n,e=g===0?h-n+1:h-g+1),d=Math.min(e+n-1,l),e>1&&(f+=q(m,e-1,"...",!1));for(b=e;b<=d;b++)f+=q(b==h?a.selectTemplate:m,b,b,!0);d<l&&(f+=q(m,b,"...",!1)),f===""&&(f=a.selectTemplate({text:0})),a.list.html(f)}i.info&&(k>0?f=c.format(i.messages.display,(h-1)*j+1,Math.min(h*j,k),k):f=i.messages.empty,a.element.find(".k-pager-info").html(f)),i.input&&a.element.find(".k-pager-input").html(a.options.messages.page+'<input class="k-textbox">'+c.format(i.messages.of,l)).find("input").val(h).attr(o,k<1).toggleClass("k-state-disabled",k<1),i.previousNext&&(t(a.element,h,l),u(a.element,h,l),v(a.element,h,l),w(a.element,h,l)),i.pageSizes&&a.element.find(".k-pager-sizes select").val(j)},_keydown:function(a){if(a.keyCode===c.keys.ENTER){var b=this.element.find(".k-pager-input").find("input"),d=parseInt(b.val(),10);if(isNaN(d)||d<1||d>this.totalPages())d=this.page();b.val(d),this.page(d)}},_refreshClick:function(a){a.preventDefault(),this.dataSource.read()},_change:function(a){var b=parseInt(a.currentTarget.value,10);isNaN(b)||this.dataSource.pageSize(b)},_click:function(b){var d=a(b.currentTarget);b.preventDefault(),d.is(".k-state-disabled")||this.page(d.attr(c.attr("page")))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/this.pageSize())},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(a){if(a!==b)this.dataSource.page(a),this.trigger(k,{index:a});else return this.dataSource.total()>0?this.dataSource.page():0}});d.plugin(x)})(jQuery);